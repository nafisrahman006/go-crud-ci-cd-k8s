## ğŸš€ Go CRUD App
A secure, lightweight, and containerized CRUD application built with Go and uses postgres as DB â€” equipped with CI/CD pipelines, Docker secrets, and GitHub Actions for smooth development and deployment.
## ğŸ“ Project Structure

```
GO-CRUD/
â”œâ”€â”€ .github/               # GitHub workflows for CI/CD
â”œâ”€â”€ .env                   # Environment variables (local use)
â”œâ”€â”€ .gitignore             # Git ignored files
â”œâ”€â”€ docker-compose.yml     # Multi-service orchestration
â”œâ”€â”€ Dockerfile             # Image build configuration
â”œâ”€â”€ go.mod                 # Go module file
â”œâ”€â”€ go.sum                 # Go dependency checksums
â”œâ”€â”€ main.go                # Main application entry point
â””â”€â”€ readme.MD              # Project documentation
â””â”€â”€ deployall.yaml         # K8s yaml file

```

## ğŸ”§ Configuration
Use .env for local development:
Changed the hardcoded `DB_USER` & `DB_PASSWORD` so far we can pass the from `.env` or from `terminal`.




## ğŸ› ï¸ CI/CD Pipelines (GitHub Actions)

âœ… Lint Check

Ensures code adheres to Go best practices.

ğŸ” Docker Security & Vulnerability Scan Using Trivy

```
Report Summary
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Target           â”‚   Type   â”‚ Vulnerabilities â”‚ Secrets â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ test-image (alpine 3.21.3) â”‚  alpine  â”‚        0        â”‚    -    â”‚
â”‚ app/api                    â”‚ gobinary â”‚        0        â”‚    -    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```



ğŸš€ Release Pipeline
Automatically builds and tags Docker images from GitHub releases.

Uses tag-based versioning like:
```
IMAGE_TAG=${GITHUB_REF#refs/tags/}
```
## Deploy On kubernetes

This project is deployed on a Kubernetes cluster. The DB_URL was updated for Kubernetes deployment, and NodePort was used to expose the application for testing.


Apply the Kubernetes services with the following command:
```
kubectl apply -f deployall.yaml
```
![](screenshots/checkallsvc.png)
Access the PostgreSQL pod and create a test table:
```
kubectl exec -it deployment/postgres -- bash
```
After accessing the pod, create a table for testing:
```
psql -U myuser -d mydb
CREATE TABLE users (id SERIAL PRIMARY KEY, name VARCHAR(100), email VARCHAR(100));
```
![](screenshots/createdb-from-terminal.png)

After deploying, test the applicationâ€™s CRUD operations using Postman. Use the following URL to test:
```
http://localhost:30080/users  # 30080 is the NodePort
```
![](screenshots/post.png)

![](screenshots/get.png)

You can also use TablePlus to visually inspect the data in the PostgreSQL table:

![](screenshots/table.png)

